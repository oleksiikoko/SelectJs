{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","event","type","target","dataset","toggle","select","close","$value","textContent","current","querySelectorAll","forEach","el","classList","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTML","contains","find","bind","addEventListener","console","log","window","s"],"mappings":"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","file":"SelectJs.a6f88926.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\n  let text = placeholder ?? \"Default placeholder\";\n\n  const items = data.map((item) => {\n    let cls = \"\";\n    if (item.id === selectedId) {\n      text = item.value;\n      cls = \"selected\";\n    }\n    return /*html*/ `<li\n      class=\"select__item ${cls}\"\n      data-type=\"item\"\n      data-id=\"${item.id}\"\n    >\n      ${item.value}\n    </li>`;\n  });\n\n  return /*html*/ `\n  <div class=\"select__backdrop\" data-type='backdrop'></div>\n  <div class=\"select__input\" data-type=\"input\">\n      <span data-type=\"value\">${text}</span>\n      <i class=\"fas fa-chevron-down\" data-type=\"arrow\"></i>\n    </div>\n    <div class=\"select__dropdown\">\n      <ul class=\"select__list\">\n        ${items.join(\"\")}\n      </ul>\n    </div>`;\n};\n\nexport class Select {\n  constructor(selector, options) {\n    this.$el = document.querySelector(selector);\n    this.options = options;\n    this.selectedId = options.selectedId;\n\n    this.#render();\n    this.#setup();\n  }\n\n  #render() {\n    const { placeholder, data } = this.options;\n    this.$el.classList.add(\"select\");\n    this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\n  }\n\n  #setup() {\n    this.clickHandler = this.clickHandler.bind(this);\n    this.$el.addEventListener(\"click\", this.clickHandler);\n    this.$arrow = this.$el.querySelector(\"[data-type='arrow']\");\n    this.$value = this.$el.querySelector(\"[data-type='value']\");\n  }\n\n  clickHandler(event) {\n    const { type } = event.target.dataset;\n    if (type === \"input\") {\n      this.toggle();\n    } else if (type === \"item\") {\n      const id = event.target.dataset.id;\n      this.select(id);\n    } else if (type === \"backdrop\") {\n      const id = event.target.dataset.id;\n      this.close();\n    }\n  }\n\n  get isOpen() {\n    return this.$el.classList.contains(\"open\");\n  }\n\n  get current() {\n    return this.options.data.find((item) => item.id === this.selectedId);\n  }\n\n  select(id) {\n    this.selectedId = id;\n    this.$value.textContent = this.current.value;\n\n    this.$el.querySelectorAll(\"[data-type='item']\").forEach((el) => {\n      el.classList.remove(\"selected\");\n    });\n    this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\");\n\n    this.options.onSelect ? this.options.onSelect(this.current) : null;\n\n    this.close();\n  }\n\n  toggle() {\n    this.isOpen ? this.close() : this.open();\n  }\n\n  open() {\n    this.$el.classList.add(\"open\");\n    this.$arrow.classList.remove(\"fa-chevron-down\");\n    this.$arrow.classList.add(\"fa-chevron-up\");\n  }\n\n  close() {\n    this.$el.classList.remove(\"open\");\n    this.$arrow.classList.remove(\"fa-chevron-up\");\n    this.$arrow.classList.add(\"fa-chevron-down\");\n  }\n\n  destroy() {\n    this.$el.removeEventListener(\"click\", this.clickHandler);\n    this.$el.innerHTML = \"\";\n  }\n}\n","import { Select } from \"./select/select\";\nimport \"./select/styles.scss\";\n\nconst select = new Select(\"#select\", {\n  placeholder: \"Chose element\",\n  selectedId: \"4\",\n  data: [\n    { id: \"1\", value: \"React\" },\n    { id: \"2\", value: \"Angular\" },\n    { id: \"3\", value: \"Vue\" },\n    { id: \"4\", value: \"React Native\" },\n    { id: \"5\", value: \"Next\" },\n    { id: \"6\", value: \"Nest\" },\n  ],\n  onSelect(item) {\n    console.log(\"Selected Item: \", item);\n  },\n});\n\nwindow.s = select;\n"]}